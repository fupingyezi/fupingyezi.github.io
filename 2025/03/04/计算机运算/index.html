
  <!DOCTYPE html>
  <html lang="en"  >
  <head>
  <meta charset="utf-8">
  

  

  

  
  <script>window.icon_font = '4552607_tq6stt6tcg';window.clipboard_tips = {"success":"复制成功(*^▽^*)","fail":"复制失败 (ﾟ⊿ﾟ)ﾂ","copyright":{"enable":false,"count":50,"content":"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！"}};</script>
  
  
  <title>
    一文理解定点数和浮点数的四则运算 |
    
    Tu Yuheng&#39;s Blog
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic&display=swap" media="print" onload="this.media&#x3D;&#39;all&#39;">
  
    <link rel="preload" href="//at.alicdn.com/t/c/font_4552607_tq6stt6tcg.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  
  
    
<link rel="stylesheet" href="/css/loader.css">

  
  
    <meta name="description" content="真值与机器数概念不赘述，直接正题先立一个大前提：$$设x为真值,x_{数值部分}&#x3D;\begin{cases}x_1x_2…x_n,,,x为整数\0.x_1x_2…x_n,,,x为小数\\end{cases}$$ 1.原码 当$x\geq0$时，原码为$x$数值前添加0，则$[x]_原&#x3D;x$ 当$x\leq0$时，原码为$x$数值前添加1，则$[x]_原&#x3D;2^n+|x|">
<meta property="og:type" content="article">
<meta property="og:title" content="一文理解定点数和浮点数的四则运算">
<meta property="og:url" content="http://fupingyezi.github.io/2025/03/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BF%90%E7%AE%97/index.html">
<meta property="og:site_name" content="Tu Yuheng&#39;s Blog">
<meta property="og:description" content="真值与机器数概念不赘述，直接正题先立一个大前提：$$设x为真值,x_{数值部分}&#x3D;\begin{cases}x_1x_2…x_n,,,x为整数\0.x_1x_2…x_n,,,x为小数\\end{cases}$$ 1.原码 当$x\geq0$时，原码为$x$数值前添加0，则$[x]_原&#x3D;x$ 当$x\leq0$时，原码为$x$数值前添加1，则$[x]_原&#x3D;2^n+|x|">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://fupingyezi.github.io/images/img/f5ac289eae6723dc2e3f1c4a0d320ea6_720.jpg">
<meta property="og:image" content="http://fupingyezi.github.io/images/img/9961d745d8c4ac636628dbb01766d342.jpg">
<meta property="og:image" content="http://fupingyezi.github.io/images/img/60c80af266a68c48a689a112263c2b79.jpg">
<meta property="og:image" content="http://fupingyezi.github.io/images/img/be84541dadd19c055b1421e3227f29f1.jpg">
<meta property="article:published_time" content="2025-03-03T16:00:00.000Z">
<meta property="article:modified_time" content="2025-03-06T07:03:16.296Z">
<meta property="article:author" content="Tu Yuheng">
<meta property="article:tag" content="计算机科学与技术专业课">
<meta property="article:tag" content="计算机组成原理">
<meta property="article:tag" content="运算">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://fupingyezi.github.io/images/img/f5ac289eae6723dc2e3f1c4a0d320ea6_720.jpg">
  
  
    <link rel="alternate" href="/atom.xml" title="Tu Yuheng's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="preload" href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
    
      
<link rel="stylesheet" href="https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css">

    
  
  
  
  
    
<script src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"></script>

  
  
    
<link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css">

  
<meta name="generator" content="Hexo 7.3.0"></head>

  <body>
    
  <div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi">
        <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
          <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="#ff5252" />
          <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
         M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="#ff5252" />
        </svg>
      </div>
      <div class="loading-word">少女祈祷中...</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script>

<div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>


    <div id="container">
      <div id="wrap">
        <div id="header-nav">
  <nav id="main-nav">
    
      <span class="main-nav-link-wrap">
        <div class="main-nav-icon icon-taichi"></div>
        <a class="main-nav-link" href="/">Home</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class="main-nav-icon icon-taichi"></div>
        <a class="main-nav-link" href="/archives">Archives</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class="main-nav-icon icon-taichi"></div>
        <a class="main-nav-link" href="/about">About</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class="main-nav-icon icon-taichi"></div>
        <a class="main-nav-link" href="/friend">Friend</a>
      </span>
    
    <a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed" target="_blank"></a>
    
    
    
  </nav>
</div>
<header id="header">
  
    
      <img fetchpriority="high" src="/images/banner.webp" alt="一文理解定点数和浮点数的四则运算">
    
  
  <div id="header-outer">
    <div id="header-title">
      
        
        
          <a href="/" id="logo">
            <h1 data-aos="slide-up">一文理解定点数和浮点数的四则运算</h1>
          </a>
        
      
      
        
        <h2 id="subtitle-wrap" data-aos="slide-down">
          
        </h2>
      
    </div>
  </div>
</header>

        <div id="content">
          
          <section id="main"><article id="post-计算机运算" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner" data-aos="fade-up">
    <div class="article-meta">
      <div class="article-date">
  <a href="/2025/03/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BF%90%E7%AE%97/" class="article-date-link" data-aos="zoom-in">
    <time datetime="2025-03-03T16:00:00.000Z" itemprop="datePublished">2025-03-04</time>
    <time style="display: none;" id="post-update-time">2025-03-06</time>
  </a>
</div>

      

    </div>
    <div class="hr-line"></div>
    

    <div class="e-content article-entry" itemprop="articleBody">
      
      
        <h1 id="真值与机器数"><a href="#真值与机器数" class="headerlink" title="真值与机器数"></a>真值与机器数</h1><p>概念不赘述，直接正题<br>先立一个大前提：<br>$$<br>设x为真值,x_{数值部分}&#x3D;\begin{cases}x_1x_2…x_n,,,x为整数\<br>0.x_1x_2…x_n,,,x为小数\<br>\end{cases}<br>$$</p>
<h4 id="1-原码"><a href="#1-原码" class="headerlink" title="1.原码"></a>1.原码</h4><ul>
<li>当$x\geq0$时，原码为$x$数值前添加0，则$[x]_原&#x3D;x$</li>
<li>当$x\leq0$时，原码为$x$数值前添加1，则$[x]_原&#x3D;2^n+|x|&#x3D;2^n-x$</li>
<li>小数同理<br>则：<br>$$<br>[x]_原&#x3D;<br>\begin{cases}0,x,,,,,,2^n&gt;x\geq0\<br>2^n-x,,,,,,0\geq x&gt;-2^n\<br>x,,,,,,1&gt;x\geq0\<br>1-x,,,,,,0\geq x&gt;-1\<br>\end{cases}<br>$$<br>上面两个是整数，下面两个是小数，嫌麻烦写一起了，之后也一样</li>
</ul>
<h4 id="2-反码"><a href="#2-反码" class="headerlink" title="2.反码"></a>2.反码</h4><ul>
<li>当$x\geq0$时，反码与原码相同，$[x]_反&#x3D;[x]_原&#x3D;x$</li>
<li>当$x\leq0$时，反码为原码除符号位之外取反，则有等式$[x]_反+[x]_原&#x3D;2^{n+1}+2^n-1,[x]_反&#x3D;(2^{n+1}-1)+x$</li>
<li>小数同理<br>则：<br>$$<br>[x]_反&#x3D;<br>\begin{cases}0,x,,,,,,2^n&gt;x\geq0\<br>(2^{n+1}-1)+x,,,,,,0\geq x&gt;-2^n\<br>x,,,,,,1&gt;x\geq0\<br>(2-2^{-n})+x,,,,,,0\geq x&gt;-1\<br>\end{cases}<br>$$</li>
</ul>
<h4 id="3-补码"><a href="#3-补码" class="headerlink" title="3.补码"></a>3.补码</h4><p>补码为反码末位加1，那么易得<br>$$<br>[x]_补&#x3D;<br>\begin{cases}0,x,,,,,,2^n&gt;x\geq0\<br>2^{n+1}+x,,,,,,0&gt; x\geq-2^n\<br>x,,,,,,1&gt;x\geq0\<br>2+x,,,,,,0&gt;x\geq-1\<br>\end{cases}<br>$$</p>
<h4 id="4-深入理解"><a href="#4-深入理解" class="headerlink" title="4.深入理解"></a>4.深入理解</h4><p><strong>补码是怎么来的？</strong></p>
<ul>
<li>观察上面几个式子，我们发现当$x&lt;0$时，补码的机器数在无符号数的意义上表示为一个大于0的数，但实际上他们都应该是负数，而且应该就等于真值$x$，那么什么情况下相等呢？</li>
<li>这里就涉及到补数的概念，我就直接给出结论了:$任意异号两数x,y,x\equiv y,,,(mod |x|+|y|)$</li>
<li>所以只要对$[x]_补$模一个$2^{n+1}$就行了，所以严格意义上当$x&lt;0$时的情况，反码和补码在运算后面要分别添一个$(mod,,,2^{n+1}-1)$和$(mod,,,2^{n+1})$</li>
<li>这其实就是补码的灵感之一</li>
</ul>
<h4 id="5-补充"><a href="#5-补充" class="headerlink" title="5.补充"></a>5.补充</h4><h6 id="补码反推真值"><a href="#补码反推真值" class="headerlink" title="补码反推真值"></a>补码反推真值</h6><ul>
<li>若$[x]<em>补&#x3D;0,x_1x_2…x_n,则x&#x3D;\sum</em>{i&#x3D;1}^{n}2^{i-1}\times x_i$</li>
<li>若$[x]<em>补&#x3D;1,x_1x_2…x_n,则x&#x3D;-2^n+\sum</em>{i&#x3D;1}^{n}2^{i-1}\times x_i$</li>
<li>设符号位为$x_0$，把符号位考虑，可得：$x&#x3D;-2^n\times x_0+\sum_{i&#x3D;1}^{n}2^{i-1}\times x_i$</li>
</ul>
<p>证一下小于0的情况：<br>设$x&#x3D;-.y_1y_2…y_n$，则$0.y_1y_2…y_n+0.x_1x_2…x_n&#x3D;0.y_1…y_n+0.\overline{y_1}…\overline{y_n}+1&#x3D;2^n$，<br>所以$0.y_1…y_n&#x3D;2^n-0.x_1…x_n$，由于$x&lt;0$，取个负就是结果</p>
<h6 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h6><table>
<thead>
<tr>
<th align="center">真值</th>
<th align="center">码制</th>
<th align="center">添补代码</th>
</tr>
</thead>
<tbody><tr>
<td align="center">正数</td>
<td align="center">原码、补码、反码</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">负数</td>
<td align="center">原码</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">负数</td>
<td align="center">补码</td>
<td align="center">左移添0</td>
</tr>
<tr>
<td align="center">负数</td>
<td align="center">补码</td>
<td align="center">右移添1</td>
</tr>
<tr>
<td align="center">负数</td>
<td align="center">反码</td>
<td align="center">1</td>
</tr>
</tbody></table>
<h1 id="定点运算"><a href="#定点运算" class="headerlink" title="定点运算"></a>定点运算</h1><h3 id="加法与减法"><a href="#加法与减法" class="headerlink" title="加法与减法"></a>加法与减法</h3><h6 id="补码加减法的基本公式"><a href="#补码加减法的基本公式" class="headerlink" title="补码加减法的基本公式"></a>补码加减法的基本公式</h6><p><strong>加法</strong>：</p>
<ul>
<li>整数：$[A]_补+[B]_补&#x3D;[A+B]_补(mod,,2^{n+1})$</li>
<li>小数：$[A]_补+[B]_补&#x3D;[A+B]_补(mod,,2^)$<br><strong>减法</strong>：</li>
<li>整数：$[A-B]_补&#x3D;[A]_补+[-B]_补(mod,,2^{n+1})$</li>
<li>小数：$[A-B]_补&#x3D;[A]_补+[-B]_补(mod,,2)$</li>
</ul>
<h6 id="溢出处理"><a href="#溢出处理" class="headerlink" title="溢出处理"></a>溢出处理</h6><p><strong>一位符号位判断溢出</strong>：<br>设$A&#x3D;x_0,x_1x_2…x_n,B&#x3D;y_0,y_1y_1…y_n$，均为补码<br>则$C&#x3D;A\pm B&#x3D;(x_0\pm y_0),(x_1\pm y_1)(x_2\pm y_2)…(x_n\pm y_n)$<br>观察符号位和最高有效位的进位：<br>我们以加法为例，因为减法$A-B&#x3D;A+(-B)$转化成加法</p>
<ul>
<li>当$C&gt;2^n-1$时，只有$A&gt;0,B&gt;0$才能实现，此时$x_0+y_0&#x3D;0,x_1+y_1+c_{低位进位}&#x3D;2$，进位为$0,1$</li>
<li>当$C&lt;-2^n$时，只有$A&lt;0,B&lt;0$才能实现，此时$x_0+y_0&#x3D;1,\overline{x_1}+\overline{y_1}+c_{低位进位}&#x3D;2$,则$x_1+y_1+c_{低位进位}&lt;2$,进位为$1,0$</li>
<li>综上，<strong>溢出的条件是符号位和最高有效位的进位异或为1，且01是正溢出，10是负溢出，也就是符号位始终是符号位。</strong></li>
</ul>
<p><strong>二位符号位判断溢出</strong><br>两位符号位需要用到变形补码，即双符号位的补码，00为正，11为负<br>$$<br>[x]_补&#x3D;<br>\begin{cases}00,x,,,,,,2^n&gt;x\geq0\<br>2^{n+2}+x,,,,,,0&gt;x\geq -2^n\<br>x,,,,,,1&gt;x\geq 0\<br>4+x,,,,,,0&gt;x\geq -1\<br>\end{cases}<br>$$<br>推理跟之前一样的。<br>其他不变，A，B符号位为$x_0x_0^\cdot,y_0y_0^\cdot$还是以加法为例观察两位符号位的规律：</p>
<ul>
<li>当$C&gt;2^n-1$时，$A&gt;0,B&gt;0$，$(x_0+y_0)(x_0^\cdot+y_0^\cdot)&#x3D;00,x_1+y_1+c_{低位进位}&#x3D;2$,最后两位符号位为$01$</li>
<li>当$C&lt;-2^n$时，$A&lt;0,B&lt;0$，$(x_0+y_0)(x_0^\cdot+y_0^\cdot)&#x3D;110,x_1+y_1+c_{低位进位},&lt;2$，符号位最高位进位舍去(模的概念)，最后两位符号位为10</li>
<li>综上，<strong>溢出的条件是两位符号位异或为1，且01是正溢出，10是负溢出，也就是以最高位符号位为准</strong></li>
</ul>
<h3 id="正题-乘法"><a href="#正题-乘法" class="headerlink" title="正题-乘法"></a>正题-乘法</h3><blockquote>
<p>反正我觉得乘法是最难写的一个</p>
</blockquote>
<h5 id="原码乘法"><a href="#原码乘法" class="headerlink" title="原码乘法"></a>原码乘法</h5><h6 id="一位乘"><a href="#一位乘" class="headerlink" title="一位乘"></a>一位乘</h6><p>每次取乘数一位<br>以小数为例，整数一样的，设：<br>$[x]<em>原&#x3D;x_0.x_1x_2x_3…x_n$<br>$[y]<em>原&#x3D;y_0.y_1y_2y_3…y_n$<br>则$[x]<em>原\times [y]<em>原&#x3D;(x_0\oplus y_0).(0.x_1x_2…x_n)(0.y_1y_2…y_n)&#x3D;&gt;右边记为x^<em>\times y^</em>$<br>则：<br>$$<br>\begin{aligned}<br>x^<em>\times y^</em><br>&amp;&#x3D;x^<em>\times(0.y_1y_2…y_n)\<br>&amp;&#x3D;x^</em>\times(0.y_1y_2…y</em>{n-1})+x^<em>\times2^{-n}y_n\<br>&amp;&#x3D;x^</em>\times(0.y_1y_2…y</em>{n-2})+2^{n-1}(y</em>{n-1}x^*+2^{-1}y_nx^*)\<br>&amp;&#x3D;x^*\times(0.y_1y_2…y</em>{n-3})+2^{n-2}(y_{n-2}x^*+2^{-1}(y_{n-1}x^*+2^{-1}y_nx^*))\<br>&amp;&#x3D;…\<br>&amp;&#x3D;x^<em>\times0.y_1+2^{-2}(y_2x^</em>+2^{-1}(y_3x^*+2^{-1}(…+2^{-1}(y_nx^*+0))))\<br>&amp;&#x3D;2^{-1}(y_1x^*+2^{-1}(y_2x^*+2^{-1}(…+2^{-1}(y_nx^*+0))))<br>\end{aligned}\<br>$$<br>其中,$2^{-1}(y_{n-i+1}x^*+z_{i-1})$为第$i$次计算时得到的部分积，记为$z_i$，则每个原子步骤为上一次得到的部分积加乘数末位乘以被乘数后向右移一位，同时乘数向右移一位。<br>(其实通过平时我们手算乘法的步骤也能快速得到这个式子)</p>
<p><strong>整数</strong><br>设：<br>$[x]<em>原&#x3D;x_0,x_nx</em>{n-1}…x_1$<br>$[y]<em>原&#x3D;y_0,y_ny</em>{n-1}…y_1$<br>则：<br>$z_i&#x3D;2(y_{n-i+1}x^*+z_{i-1})$</p>
<h6 id="两位乘"><a href="#两位乘" class="headerlink" title="两位乘"></a>两位乘</h6><p>每次取乘数两位<br>还是以小数为例，设<br>$x^*&#x3D;0.x_1x_2x_3…x_n$<br>$y^*&#x3D;0.y_1y_2y_3…y_n$<br>取$y^*$的末两位$y_{n-1}y_n$，第0次的部分积为$z_0$<br>则$z&#x3D;2^{-1}(y_{n-1}x^*+2^{-1}(y_nx^*+z_0))$<br>所以($C_j&#x3D;0，C_j$含义在下文)：</p>
<ul>
<li>$y_{n-1}y_n&#x3D;00，z&#x3D;2^{-2}z_0&#x3D;z_0&gt;&gt;2，c_j&#x3D;0$</li>
<li>$y_{n-1}y_n&#x3D;01，z&#x3D;2^{-2}(x^*+z_0)&#x3D;(z_0+x^*)&gt;&gt;2，c_j&#x3D;0$</li>
<li>$y_{n-1}y_n&#x3D;10，z&#x3D;2^{-1}x^*+2^{-2}z_0&#x3D;2^{-2}(2x^*+z_0)&#x3D;(z_0+x^*&lt;&lt;1)&gt;&gt;2，c_j&#x3D;0$</li>
<li>$y_{n-1}y_n&#x3D;11，z&#x3D;2^{-1}x^*+2^{-2}(z_0+x^*)&#x3D;(z_0+3x^*)&gt;&gt;2，c_j&#x3D;1$<br>发现：前三种情况还好，直到11，出现了3倍，并不能做移位运算，于是考虑到$3x^*&#x3D;4x^*-x^*&#x3D;x^*&lt;&lt;2-x^*$<br>接着上面第四种情况写：<br>$&#x3D;(z_0+x^*&lt;&lt;2-x^*)&gt;&gt;2&#x3D;(z_0-x^*)&gt;&gt;2+x^*$</li>
</ul>
<p>可以看到我们独立出来了一个$x^*$，需要在后续补上，此时设置一个$C_j$来标识本次运算是否需要补上一个$x^*$，则在上面四种情况中，如果$C_j$为$0$，则前三依旧为$0$，第四种情况设置为$1$。</p>
<p>所以($C_j&#x3D;1$):</p>
<ul>
<li>$y_{n-1}y_n&#x3D;00，z&#x3D;2^{-2}(z_0+x^*)&#x3D;(z_0+x^*)&gt;&gt;2，c_j&#x3D;0$</li>
<li>$y_{n-1}y_n&#x3D;01，z&#x3D;2^{-2}(x^*+(z_0+x^*))&#x3D;(z_0+x^*&lt;&lt;1)&gt;&gt;2，c_j&#x3D;0$</li>
<li>$y_{n-1}y_n&#x3D;10，z&#x3D;2^{-1}x^*+2^{-2}(z_0+x^*)&#x3D;2^{-2}(3x^*+z_0)&#x3D;…, c_j&#x3D;1$</li>
<li>$y_{n-1}y_n&#x3D;11，z&#x3D;2^{-1}x^*+2^{-2}(z_0+x^*+x^*)&#x3D;(z_0+4x^*)&gt;&gt;2&#x3D;z_0&gt;&gt;2+x^*，c_j&#x3D;1$</li>
</ul>
<p>综上，设状态为$y_{n-1}y_nC_j$，我们得到原码两位乘的运算规律<br><img src="/images/img/f5ac289eae6723dc2e3f1c4a0d320ea6_720.jpg" alt="[f5ac289eae6723dc2e3f1c4a0d320ea6_720.jpg]"><br>由此得到总移位数和最多加法次数<br>$$<br>\begin{cases}<br>乘数偶数位,,,num_{移位}&#x3D;n&#x2F;2，num_{加max}&#x3D;n&#x2F;2+1\<br>乘数奇数位,,,num_{移位}&#x3D;floor(n&#x2F;2)+1，num_{加max}&#x3D;floor(n&#x2F;2)+1<br>\end{cases}<br>$$<br>符号位$x_0\oplus y_0$，整数按照一位乘那样改就行</p>
<h5 id="补码乘法"><a href="#补码乘法" class="headerlink" title="补码乘法"></a>补码乘法</h5><h6 id="一位乘-1"><a href="#一位乘-1" class="headerlink" title="一位乘"></a>一位乘</h6><p>还是以小数为例，设：<br>$[x]_补&#x3D;x_0.x_1x_2…x_n$<br>$[y]_补&#x3D;y_0.y_1y_2…y_n$<br>由于负数的补码有取反+1的操作，且我们主要取乘数的尾数乘被除数，所以我们分类讨论乘数y的符号</p>
<ul>
<li>$y&gt;0$<br>  $[x]_补&#x3D;x_0.x_1x_2…x_n\equiv2+x\equiv2^{n+1}+x ,,,,(mod,,,2)$<br>  $[y]_补&#x3D;0.y_1y_2…y_n&#x3D;y$<br>  则$[x]_补\times[y]_补&#x3D;[x]<em>补\times y&#x3D;(2^{n+1}+x)\times y\equiv2^{n+1}y+xy,,, (mod,,,2)$<br>  又$[y]<em>补&#x3D;y&#x3D;\sum</em>{i&#x3D;1}^{n}2^{-i}y_i$<br>  则$2^{n+1}y&#x3D;2\sum</em>{i&#x3D;1}^{n}2^{n-i}y_i\equiv2,,,(mod,,,2)$<br>  所以:<br>  $[x]_补\times[y]_补\equiv2+xy&#x3D;[x\times y]_补$<br>  $[x\times y]_补\equiv[x]_补\times[y]_补&#x3D;[x]_补\times y,,,(mod,,,2)$<br>  所以部分积$[z_i]<em>补&#x3D;2^{-1}(y</em>{n-i+1}[x]<em>补+[z</em>{i-1}]_补)$</li>
<li>$y&lt;0$<br>  $[x]_补&#x3D;x_0.x_1x_2…x_n$<br>  $[y]_补&#x3D;y_0.y_1y_2…y_n&#x3D;2+y,,,(mod,,,2)$<br>  则$y&#x3D;[y]_补-2&#x3D;1.y_1y_2…y_n-2&#x3D;0.y_1y_2…y_n-1$<br>  $xy&#x3D;x(0.y_1y_2…y_n)-x$<br>  $[x\times y]&#x3D;[x(0.y_1y_2…y_n)])补+[-x]_补&#x3D;[x]_补(0.y_1y_2…y_n)+[-x]_补$<br>  $[x\times y]_补&#x3D;[x]_补\times y+[-x]_补$<br>  所以部分积$[z_i]<em>补&#x3D;2^{-1}(y</em>{n-i+1}[x]<em>补+[z</em>{i-1}]_补)$<br>  且$[x\times y]_补&#x3D;[z_n]_补+[-x]_补$</li>
</ul>
<p>在进一步归纳之前，证明一个小结论$[-x]_补\equiv-[x]<em>补,,,(mod,,,2)$<br>设$x</em>{数值部分}&#x3D;.x_1x_2…x_n$</p>
<ul>
<li>$x&lt;0$<br>  $[-x]<em>补&#x3D;0+0.x_1x_2…x_n&#x3D;\sum</em>{i&#x3D;1}^{n}2^{i-1}x_i$<br>  $-[x]<em>补&#x3D;-(2+x)&#x3D;0.x_1x_2…x_n-2\equiv\sum</em>{i&#x3D;1}^{n}2^{i-1}x_i ,,,(mod ,,,2)$</li>
<li>$x&gt;0$<br>  $[-x]<em>补&#x3D;2-|-x|&#x3D;1.x_1x_2…x_n\equiv1+\sum</em>{i&#x3D;1}^{n}2^{i-1}x_i,,,(mod,,,2)$<br>  -$[x]<em>补&#x3D;1.x_1x_2…x_n&#x3D;1+\sum</em>{i&#x3D;1}^{n}2^{i-1}x_i$<br>综上<br>$[-x]_补&#x3D;-[x]_补,,,(mod,,,2)$</li>
</ul>
<p>所以我们把$y$的符号位$x_0$拿入等式，就得到一个通式，也就是Booth算法<br>$$<br>\begin{aligned}<br>[x\times y]_补<br>&amp;&#x3D;[x]_补\times y-[x]_补\times y_0\<br>&amp;&#x3D;[x]_补(-y_0+0.y_1y_2…y_n)\<br>&amp;&#x3D;[x]<em>补(y_1-y_0+(y_2-y_1)\times2^{-1}+…+(y_n-y</em>{n-1})\times2^{-(n-1)}+(0-y_n)\times2^{-n})\<br>&amp;&#x3D;[x]_补(t_0.t_1t_2…t_n)\<br>&amp;&#x3D;[x]<em>补\times t_0+[x]<em>补(0.t_1t_2…t_n)<br>\end{aligned}<br>$$<br>其中，$t_i&#x3D;y</em>{i+1}-y_i$，且$y</em>{n+1}&#x3D;0$<br>所以部分积$[z_i]<em>补&#x3D;2^{-1}(t</em>{n-i+1}[x]<em>补+[z-1]<em>补)&#x3D;2^{-1}((y</em>{n-i+2}-y</em>{n-i+1})[x]_补+[z-1]_补)$<br>且$[x\times y]_补&#x3D;[z_n]_补+{x}_补\times t_0&#x3D;[z_n]_补+{x}_补\times (y_1-y_0)$</p>
<p><strong>注意</strong>：上述补码运算中算部分积时的移位操作都是按照补码的移位运算哦。</p>
<h6 id="两位乘-1"><a href="#两位乘-1" class="headerlink" title="两位乘"></a>两位乘</h6><p>按照上面的Booth算法，两位乘其实要看三位，直接取$y_{n-1}y_ny_{n+1}$<br>$[z]<em>补&#x3D;2^{-1}((y_n-y</em>{n-1})[x]<em>补+2^{-1}((y</em>{n+1}-y_n)[x]_补+[z_0]_补))$<br>然后按照$000-111$的顺序分类讨论，由于没有什么特殊情况，直接给结论吧<br><img src="/images/img/9961d745d8c4ac636628dbb01766d342.jpg" alt="[9961d745d8c4ac636628dbb01766d342.jpg]"></p>
<h3 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h3><h5 id="原码除法"><a href="#原码除法" class="headerlink" title="原码除法"></a>原码除法</h5><p>依旧以小数为例，设：<br>$[x]_原&#x3D;x_0.x_1x_2…x_n$<br>$[y]_原&#x3D;y_0.y_1y_2…y_n$<br>则$[\frac{x}{y}]_原&#x3D;(x\oplus y).\frac{0.x_1x_2…x_n}{0.y_1y_2…y_n}$,小数部分记为$\frac{x^*}{y^*}$<br>必须满足$0&lt;|被除数|\leq|除数|$，因为结果得是个小数。</p>
<h6 id="恢复余数法"><a href="#恢复余数法" class="headerlink" title="恢复余数法"></a>恢复余数法</h6><p>设最后的商为$[z]<em>原&#x3D;z_0.z_1z_2…z_k$，余数为$r$，则除法第i步就是$r_i&#x3D;r</em>{i-1}&lt;&lt;1-z_iy^*&#x3D;[r_{i-1}]_补&lt;&lt;1+z_i\times[-y*]_补$,问题是如何让机器确定这$z_i$为$1$还是$0$</p>
<p>很简单，先减一次看余数就行了，$r_i$为负说明该位大了，$z_i$就为$0$，再加回去，移到下一位，为正$z_i$就为$1$，移到下一位，这就是恢复余数法</p>
<h6 id="加减交替法"><a href="#加减交替法" class="headerlink" title="加减交替法"></a>加减交替法</h6><p>我们思考一下上面的恢复余数法具体是个什么流程呢？</p>
<ul>
<li>$r_i&gt;0,z_i&#x3D;1$,下一步为$r_i&lt;&lt;1+[-y^*]_补&#x3D;2r_i-y^*$</li>
<li>$r_i&lt;0,z_i&#x3D;0$,下一步为$(r_i+[y^*]_补)&lt;&lt;1-[y^*]_补&#x3D;2r_i+y^*$<br>所以只做这两步跟恢复余数法是等价的，但只有加减运算，所以为加减交替法</li>
</ul>
<h5 id="补码除法"><a href="#补码除法" class="headerlink" title="补码除法"></a>补码除法</h5><h6 id="加减交替法-1"><a href="#加减交替法-1" class="headerlink" title="加减交替法"></a>加减交替法</h6><p>由于加减交替法和恢复余数法没有实质上的区别，就直接讲加减交替法了</p>
<p>补码除法关键在于确定商的取值情况</p>
<ul>
<li>当$[r]_补与[y]<em>补同号$<br>  第$i$次:$[r</em>{i+1}]_补&#x3D;[r_i]_补&lt;&lt;1-[y]<em>补&#x3D;2[r</em>{i}]_补+[-y]<em>补$，<br>  显然若$z_i&#x3D;1$，则$[r</em>{i+1}]_补与[y]_补$同号</li>
<li>当$[r]_补与[y]<em>补$异号<br>  第$i$次:$[r</em>{i+1}]_补&#x3D;[r_i]_补&lt;&lt;1-[y]_补&#x3D;2[r_i]_补+[y]<em>补$，<br>  显然若$z_i&#x3D;1$，则$[r</em>{i+1}]_补与[y]_补$异号<br>运算流程其实已经推导出来了，不多赘述</li>
</ul>
<h1 id="浮点运算"><a href="#浮点运算" class="headerlink" title="浮点运算"></a>浮点运算</h1><h5 id="浮点加减运算"><a href="#浮点加减运算" class="headerlink" title="浮点加减运算"></a>浮点加减运算</h5><p>设两个浮点数：<br>$x&#x3D;S_x\cdot r^{j_x}$<br>$y&#x3D;S_y\cdot r^{j_y}$<br>由于浮点数在机器中表示时，尾数的小数点是固定在第一数值位前<br><img src="/images/img/60c80af266a68c48a689a112263c2b79.jpg" alt="[60c80af266a68c48a689a112263c2b79.jpg]"><br>所以尾数加减法完全满足定点数规则，但是由于其阶码反应小数点的实际位置，所以需要进行对阶，又由于要保持规格化和精度，所以一共有以下几步：<br><img src="/images/img/be84541dadd19c055b1421e3227f29f1.jpg" alt="[be84541dadd19c055b1421e3227f29f1.jpg]"><br>这个没什么难理解的，不多说</p>
<h5 id="浮点乘除运算"><a href="#浮点乘除运算" class="headerlink" title="浮点乘除运算"></a>浮点乘除运算</h5><p>跟加减法不同，乘除运算不需要对阶，但是需要对阶码进行运算，就是把加减的一二步换成了阶码运算和尾数乘商，我们介绍一下阶码运算即可</p>
<p><strong>阶码</strong>：<br>首先两数乘除，其阶码应该是加减<br>即乘：$[j_x]_补+[j_y]_补$，除：$[j_x]_补-[j_y]_补$<br>但如果阶码用移码表示，即 </p>
<ul>
<li>$[j_x]_移&#x3D;2^n+j_x$  $-2^n\leq j_x&lt;2^n$</li>
<li>$[j_y]_移&#x3D;2^n+j_y$  $-2^n\leq j_x&lt;2^n$<br>则$[j_x]_移+[jx_y]_移&#x3D;2^n+2^n+j_x+j_y&#x3D;2^n+[2^n+j_x+j_y]&#x3D;2^n+[j_x+j_y]_移$<br>可以看到用移码算的话会多个$2^n$，怎么办呢？<br>注意到$[j_y]_补&#x3D;2^{n+1}+j_y,,,(mod,,,2^{n+1})$,所以模$2^{n+1}$下，把加数换成补码就行,即<br>$[j_x]_移+[j_y]_补&#x3D;2^{n+1}+[2^n+j_x+j_y]&#x3D;[j_x+j_y]_移,,,(mod,,,2^{n+1})$<br>剩下的看书能理解</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      
      
      
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">计算机科学与技术专业课</a></li><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" rel="tag">计算机组成原理</a></li><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/tags/%E8%BF%90%E7%AE%97/" rel="tag">运算</a></li></ul>


    </footer>
  </div>
  
  <nav id="article-nav" data-aos="fade-up">
    
    
    <div class="article-nav-link-wrap article-nav-link-right">
      
        
        
          <img data-src="https://d-sketon.top/img/backimg/bg1.jpg" data-sizes="auto" alt="从TypeScript类型深入了解TS" class="lazyload">
        
      
      <a href="/2024/12/06/TypeScript%E9%AB%98%E9%98%B6%E7%B1%BB%E5%9E%8B%E8%AF%A6%E8%A7%A3/"></a>
      <div class="article-nav-caption">Older</div>
      <h3 class="article-nav-title">
        
          从TypeScript类型深入了解TS
        
      </h3>
    </div>
    
  </nav>


</article>






</section>
          
            <aside id="sidebar">
  <div class="sidebar-wrapper wrap-sticky">
    <div class="sidebar-wrap" data-aos="fade-up">
      
        <div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class" >
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9C%9F%E5%80%BC%E4%B8%8E%E6%9C%BA%E5%99%A8%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">真值与机器数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8E%9F%E7%A0%81"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">1.原码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%8D%E7%A0%81"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">2.反码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%A1%A5%E7%A0%81"><span class="toc-number">1.0.0.3.</span> <span class="toc-text">3.补码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3"><span class="toc-number">1.0.0.4.</span> <span class="toc-text">4.深入理解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%A1%A5%E5%85%85"><span class="toc-number">1.0.0.5.</span> <span class="toc-text">5.补充</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E5%8F%8D%E6%8E%A8%E7%9C%9F%E5%80%BC"><span class="toc-number">1.0.0.5.0.1.</span> <span class="toc-text">补码反推真值</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-number">1.0.0.5.0.2.</span> <span class="toc-text">移位运算</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9A%E7%82%B9%E8%BF%90%E7%AE%97"><span class="toc-number">2.</span> <span class="toc-text">定点运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95%E4%B8%8E%E5%87%8F%E6%B3%95"><span class="toc-number">2.0.1.</span> <span class="toc-text">加法与减法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E5%8A%A0%E5%87%8F%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%85%AC%E5%BC%8F"><span class="toc-number">2.0.1.0.0.1.</span> <span class="toc-text">补码加减法的基本公式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%BA%A2%E5%87%BA%E5%A4%84%E7%90%86"><span class="toc-number">2.0.1.0.0.2.</span> <span class="toc-text">溢出处理</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E9%A2%98-%E4%B9%98%E6%B3%95"><span class="toc-number">2.0.2.</span> <span class="toc-text">正题-乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%A0%81%E4%B9%98%E6%B3%95"><span class="toc-number">2.0.2.0.1.</span> <span class="toc-text">原码乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E4%BD%8D%E4%B9%98"><span class="toc-number">2.0.2.0.1.1.</span> <span class="toc-text">一位乘</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%A4%E4%BD%8D%E4%B9%98"><span class="toc-number">2.0.2.0.1.2.</span> <span class="toc-text">两位乘</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E4%B9%98%E6%B3%95"><span class="toc-number">2.0.2.0.2.</span> <span class="toc-text">补码乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E4%BD%8D%E4%B9%98-1"><span class="toc-number">2.0.2.0.2.1.</span> <span class="toc-text">一位乘</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%A4%E4%BD%8D%E4%B9%98-1"><span class="toc-number">2.0.2.0.2.2.</span> <span class="toc-text">两位乘</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4%E6%B3%95"><span class="toc-number">2.0.3.</span> <span class="toc-text">除法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%A0%81%E9%99%A4%E6%B3%95"><span class="toc-number">2.0.3.0.1.</span> <span class="toc-text">原码除法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E4%BD%99%E6%95%B0%E6%B3%95"><span class="toc-number">2.0.3.0.1.1.</span> <span class="toc-text">恢复余数法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A0%E5%87%8F%E4%BA%A4%E6%9B%BF%E6%B3%95"><span class="toc-number">2.0.3.0.1.2.</span> <span class="toc-text">加减交替法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E9%99%A4%E6%B3%95"><span class="toc-number">2.0.3.0.2.</span> <span class="toc-text">补码除法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A0%E5%87%8F%E4%BA%A4%E6%9B%BF%E6%B3%95-1"><span class="toc-number">2.0.3.0.2.1.</span> <span class="toc-text">加减交替法</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E8%BF%90%E7%AE%97"><span class="toc-number">3.</span> <span class="toc-text">浮点运算</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97"><span class="toc-number">3.0.0.0.1.</span> <span class="toc-text">浮点加减运算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E4%B9%98%E9%99%A4%E8%BF%90%E7%AE%97"><span class="toc-number">3.0.0.0.2.</span> <span class="toc-text">浮点乘除运算</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
      
  </div>
</div>
</div>
        <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="Tu Yuheng" class="lazyload">
  <div class="sidebar-author-name">Tu Yuheng</div>
  <div class="sidebar-description"></div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Posts</div>
    <div class="sidebar-state-number">6</div>
  </div>
  <div class="sidebar-state-category">
    <div>Categories</div>
    <div class="sidebar-state-number">0</div>
  </div>
  <div class="sidebar-state-tag">
    <div>Tags</div>
    <div class="sidebar-state-number">3</div>
  </div>
</div>
<div class="sidebar-social">
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/" aria-label="Home"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">Home</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/archives" aria-label="Archives"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">Archives</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/about" aria-label="About"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">About</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/friend" aria-label="Friend"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">Friend</div>
    </div>
  
</div>
</div>
      
      
        <div class="sidebar-btn-wrapper" style="position:static">
          <div class="sidebar-toc-btn current"></div>
          <div class="sidebar-common-btn"></div>
        </div>
      
    </div>
  </div>

  
</aside>

          
        </div>
        <footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info">
    
    <div>
      <span class="icon-copyright"></span>
      2020-2025
      <span class="footer-info-sep"></span>
      Tu Yuheng
    </div>
    
      <div>
        Powered by&nbsp;<a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a>&nbsp;
        Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" rel="noopener external nofollow noreferrer" target="_blank">Reimu</a>
      </div>
    
    
      <div>
        <span class="icon-brush"></span>
        23.2k
        &nbsp;|&nbsp;
        <span class="icon-coffee"></span>
        01:38
      </div>
    
    
    
    
      <div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv">Number of visits&nbsp;<span id="busuanzi_value_site_pv"></span></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv">Number of visitors&nbsp;<span id="busuanzi_value_site_uv"></span></span>
      </div>
    
  </div>
</footer>

        <div class="sidebar-top">
          <img src="/images/taichi.png" height="50" width="50" alt="backtop" />
          <div class="arrow-up"></div>
        </div>
        <div id="mask"></div>
      </div>
      <nav id="mobile-nav">
  <div class="sidebar-wrap">
    
      <div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class" >
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9C%9F%E5%80%BC%E4%B8%8E%E6%9C%BA%E5%99%A8%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">真值与机器数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8E%9F%E7%A0%81"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">1.原码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%8D%E7%A0%81"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">2.反码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%A1%A5%E7%A0%81"><span class="toc-number">1.0.0.3.</span> <span class="toc-text">3.补码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3"><span class="toc-number">1.0.0.4.</span> <span class="toc-text">4.深入理解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%A1%A5%E5%85%85"><span class="toc-number">1.0.0.5.</span> <span class="toc-text">5.补充</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E5%8F%8D%E6%8E%A8%E7%9C%9F%E5%80%BC"><span class="toc-number">1.0.0.5.0.1.</span> <span class="toc-text">补码反推真值</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-number">1.0.0.5.0.2.</span> <span class="toc-text">移位运算</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9A%E7%82%B9%E8%BF%90%E7%AE%97"><span class="toc-number">2.</span> <span class="toc-text">定点运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95%E4%B8%8E%E5%87%8F%E6%B3%95"><span class="toc-number">2.0.1.</span> <span class="toc-text">加法与减法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E5%8A%A0%E5%87%8F%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%85%AC%E5%BC%8F"><span class="toc-number">2.0.1.0.0.1.</span> <span class="toc-text">补码加减法的基本公式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%BA%A2%E5%87%BA%E5%A4%84%E7%90%86"><span class="toc-number">2.0.1.0.0.2.</span> <span class="toc-text">溢出处理</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E9%A2%98-%E4%B9%98%E6%B3%95"><span class="toc-number">2.0.2.</span> <span class="toc-text">正题-乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%A0%81%E4%B9%98%E6%B3%95"><span class="toc-number">2.0.2.0.1.</span> <span class="toc-text">原码乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E4%BD%8D%E4%B9%98"><span class="toc-number">2.0.2.0.1.1.</span> <span class="toc-text">一位乘</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%A4%E4%BD%8D%E4%B9%98"><span class="toc-number">2.0.2.0.1.2.</span> <span class="toc-text">两位乘</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E4%B9%98%E6%B3%95"><span class="toc-number">2.0.2.0.2.</span> <span class="toc-text">补码乘法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E4%BD%8D%E4%B9%98-1"><span class="toc-number">2.0.2.0.2.1.</span> <span class="toc-text">一位乘</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%A4%E4%BD%8D%E4%B9%98-1"><span class="toc-number">2.0.2.0.2.2.</span> <span class="toc-text">两位乘</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4%E6%B3%95"><span class="toc-number">2.0.3.</span> <span class="toc-text">除法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%A0%81%E9%99%A4%E6%B3%95"><span class="toc-number">2.0.3.0.1.</span> <span class="toc-text">原码除法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E4%BD%99%E6%95%B0%E6%B3%95"><span class="toc-number">2.0.3.0.1.1.</span> <span class="toc-text">恢复余数法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A0%E5%87%8F%E4%BA%A4%E6%9B%BF%E6%B3%95"><span class="toc-number">2.0.3.0.1.2.</span> <span class="toc-text">加减交替法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E9%99%A4%E6%B3%95"><span class="toc-number">2.0.3.0.2.</span> <span class="toc-text">补码除法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A0%E5%87%8F%E4%BA%A4%E6%9B%BF%E6%B3%95-1"><span class="toc-number">2.0.3.0.2.1.</span> <span class="toc-text">加减交替法</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E8%BF%90%E7%AE%97"><span class="toc-number">3.</span> <span class="toc-text">浮点运算</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97"><span class="toc-number">3.0.0.0.1.</span> <span class="toc-text">浮点加减运算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E4%B9%98%E9%99%A4%E8%BF%90%E7%AE%97"><span class="toc-number">3.0.0.0.2.</span> <span class="toc-text">浮点乘除运算</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
      
  </div>
</div>
</div>
      <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="Tu Yuheng" class="lazyload">
  <div class="sidebar-author-name">Tu Yuheng</div>
  <div class="sidebar-description"></div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Posts</div>
    <div class="sidebar-state-number">6</div>
  </div>
  <div class="sidebar-state-category">
    <div>Categories</div>
    <div class="sidebar-state-number">0</div>
  </div>
  <div class="sidebar-state-tag">
    <div>Tags</div>
    <div class="sidebar-state-number">3</div>
  </div>
</div>
<div class="sidebar-social">
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/" aria-label="Home"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">Home</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/archives" aria-label="Archives"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">Archives</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/about" aria-label="About"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">About</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a class="sidebar-menu-link-dummy" href="/friend" aria-label="Friend"></a>
      <div class="sidebar-menu-icon icon-taichi"></div>
      <div class="sidebar-menu-link">Friend</div>
    </div>
  
</div>
</div>
    
  </div>
  
    <div class="sidebar-btn-wrapper">
      <div class="sidebar-toc-btn current"></div>
      <div class="sidebar-common-btn"></div>
    </div>
  
</nav>

    </div>
    
    
<script src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js" integrity="sha384-3gT&#x2F;vsepWkfz&#x2F;ff7PpWNUeMzeWoH3cDhm&#x2F;A8jM7ouoAK0&#x2F;fP&#x2F;9bcHHR5kHq2nf+e" crossorigin="anonymous"></script>


<script src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js" integrity="sha384-J08i8An&#x2F;QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"></script>



<script src="/js/script.js"></script>



  
<script src="/js/aos.js"></script>

  <script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', aosInit);
    } else {
      aosInit();
    }
  </script>



<script src="/js/pjax_script.js" data-pjax></script>







  
<script src="https://npm.webcache.cn/mouse-firework@0.0.6/dist/index.umd.js" integrity="sha384-vkGvf25gm1C1PbcoD5dNfc137HzNL&#x2F;hr1RKA5HniJOaawtvUmH5lTVFgFAruE9Ge" crossorigin="anonymous"></script>

  <script>
    window.firework && window.firework(JSON.parse('{"excludeElements":["a","button"],"particles":[{"shape":"circle","move":["emit"],"easing":"easeOutExpo","colors":["#ff5252","#ff7c7c","#ffafaf","#ffd0d0"],"number":20,"duration":[1200,1800],"shapeOptions":{"radius":[16,32],"alpha":[0.3,0.5]}},{"shape":"circle","move":["diffuse"],"easing":"easeOutExpo","colors":["#ff0000"],"number":1,"duration":[1200,1800],"shapeOptions":{"radius":20,"alpha":[0.2,0.5],"lineWidth":6}}]}'))
  </script>








<div id="lazy-script">
  <div>
    
    
      
        
<script src="/js/insert_highlight.js" data-pjax></script>

      
    
    
      <script type="module" data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.min.js", "sha384-DiL6M/gG+wmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF/N6lrZi/")).default;
        
        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script>
      








    
  </div>
</div>


  <script>
    console.log(String.raw`%c 
 ______     ______     __     __    __     __  __    
/\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
\ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
 \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
  \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                  
`,'color: #ff5252;')
    console.log('%c Theme.Reimu v' + '0.3.5' + ' %c https://github.com/D-Sketon/hexo-theme-reimu ', 'color: white; background: #ff5252; padding:5px 0;', 'padding:4px;border:1px solid #ff5252;')
  </script>
  



  
<script src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js" integrity="sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S" crossorigin="anonymous" async></script>




<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then((registrations) => {
      for (let registration of registrations) {
        registration.unregister();
      }
    });
  }
</script>

  <!-- hexo injector body_end start -->
<script src="/js/insert_highlight.js" data-pjax></script>
<!-- hexo injector body_end end --></body>
  </html>

